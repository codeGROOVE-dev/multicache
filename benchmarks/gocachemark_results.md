# gocachemark Results

```
Command: gocachemark -caches multicache,otter,clock,theine,sieve,freelru-sync -outdir /Users/t/dev/r2r/multicache/benchmarks
Environment: darwin/arm64, 16 CPUs, go1.25.4
```

## Hit Rate Benchmarks

### [cdn] CDN

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 56.74% | 57.86% | 58.79% | 59.70% | 60.56% | 58.729% |
| sieve         | 55.63% | 56.95% | 58.25% | 59.30% | 60.59% | 58.143% |
| clock         | 55.09% | 56.68% | 58.14% | 59.42% | 60.57% | 57.979% |
| freelru-sync  | 54.90% | 56.52% | 57.94% | 59.35% | 60.53% | 57.848% |
| otter         | 54.64% | 55.30% | 55.94% | 57.23% | 59.07% | 56.436% |
| theine        | 54.32% | 55.32% | 55.41% | 55.82% | 59.31% | 56.039% |

**Winner:** multicache (+0.586% vs sieve)

### [meta] Meta

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 60.00% | 67.92% | 74.45% | 79.74% | 83.39% | 73.098% |
| theine        | 57.10% | 64.88% | 70.56% | 75.05% | 81.28% | 69.776% |
| sieve         | 52.10% | 61.56% | 70.02% | 77.17% | 82.45% | 68.659% |
| freelru-sync  | 50.93% | 59.92% | 69.44% | 77.58% | 83.12% | 68.198% |
| clock         | 50.23% | 59.80% | 68.95% | 76.76% | 82.68% | 67.683% |
| otter         | 35.03% | 42.40% | 63.66% | 73.85% | 80.54% | 59.096% |

**Winner:** multicache (+3.322% vs theine)

### [zipf] Zipf

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| theine        | 63.16% | 74.19% | 87.16% | 95.01% | 95.01% | 82.908% |
| multicache    | 62.42% | 73.08% | 87.30% | 95.01% | 95.01% | 82.565% |
| sieve         | 61.56% | 73.07% | 87.00% | 95.01% | 95.01% | 82.331% |
| otter         | 61.14% | 73.26% | 86.59% | 95.01% | 95.01% | 82.202% |
| clock         | 56.54% | 70.48% | 86.60% | 95.01% | 95.01% | 80.729% |
| freelru-sync  | 55.57% | 69.55% | 86.11% | 95.01% | 95.01% | 80.251% |

**Winner:** theine (+0.342% vs multicache)

### [twitter] Twitter

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 82.34% | 83.90% | 85.02% | 85.97% | 86.77% | 84.802% |
| sieve         | 80.97% | 82.96% | 84.60% | 86.08% | 86.77% | 84.277% |
| freelru-sync  | 80.37% | 82.56% | 84.50% | 86.18% | 86.77% | 84.077% |
| clock         | 80.03% | 82.28% | 84.26% | 86.00% | 86.77% | 83.868% |
| otter         | 79.71% | 81.43% | 83.87% | 85.71% | 86.77% | 83.499% |
| theine        | 80.23% | 81.60% | 82.56% | 84.16% | 86.77% | 83.063% |

**Winner:** multicache (+0.525% vs sieve)

### [wikipedia] Wikipedia

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 21.73% | 25.72% | 30.32% | 35.31% | 40.33% | 30.682% |
| theine        | 20.88% | 25.04% | 29.76% | 35.01% | 40.49% | 30.238% |
| sieve         | 19.61% | 23.92% | 29.16% | 34.83% | 40.95% | 29.694% |
| otter         | 18.98% | 22.73% | 27.77% | 33.61% | 39.34% | 28.486% |
| clock         | 15.46% | 19.36% | 24.45% | 31.15% | 38.93% | 25.871% |
| freelru-sync  | 15.08% | 19.02% | 24.07% | 30.66% | 38.43% | 25.452% |

**Winner:** multicache (+0.444% vs theine)

### [thesios-block] Thesios Block

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 17.10% | 17.80% | 18.43% | 19.10% | 19.93% | 18.472% |
| sieve         | 16.78% | 17.49% | 18.21% | 19.15% | 19.98% | 18.323% |
| clock         | 17.15% | 17.53% | 18.04% | 18.73% | 19.85% | 18.259% |
| freelru-sync  | 17.16% | 17.48% | 17.86% | 18.32% | 19.77% | 18.118% |
| otter         | 16.14% | 16.54% | 16.73% | 17.61% | 19.05% | 17.213% |
| theine        | 16.25% | 16.36% | 16.31% | 17.36% | 19.10% | 17.076% |

**Winner:** multicache (+0.149% vs sieve)

### [thesios-file] Thesios File

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 84.49% | 87.07% | 89.25% | 90.33% | 90.33% | 88.292% |
| sieve         | 83.47% | 86.22% | 88.83% | 90.33% | 90.33% | 87.837% |
| freelru-sync  | 83.47% | 85.15% | 89.06% | 90.33% | 90.33% | 87.666% |
| clock         | 82.98% | 84.94% | 88.58% | 90.33% | 90.33% | 87.432% |
| otter         | 81.34% | 84.31% | 88.08% | 90.33% | 90.33% | 86.875% |
| theine        | 81.35% | 81.69% | 83.80% | 90.33% | 90.33% | 85.499% |

**Winner:** multicache (+0.455% vs sieve)

### [ibm-docker] IBM Docker

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| clock         | 82.48% | 82.92% | 83.22% | 83.27% | 83.27% | 83.034% |
| freelru-sync  | 82.36% | 82.85% | 83.15% | 83.27% | 83.27% | 82.983% |
| multicache    | 82.17% | 82.94% | 83.19% | 83.27% | 83.27% | 82.968% |
| sieve         | 81.74% | 83.01% | 83.22% | 83.27% | 83.27% | 82.902% |
| otter         | 80.63% | 81.76% | 82.80% | 83.27% | 83.27% | 82.347% |
| theine        | 80.66% | 81.67% | 82.69% | 83.27% | 83.27% | 82.313% |

**Winner:** clock (+0.051% vs freelru-sync)

### [tencent-photo] Tencent Photo

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 13.86% | 16.22% | 19.29% | 23.09% | 26.85% | 19.862% |
| sieve         | 12.80% | 15.09% | 18.15% | 22.51% | 26.96% | 19.099% |
| theine        | 13.38% | 15.32% | 17.62% | 20.20% | 23.50% | 18.003% |
| clock         |  9.89% | 13.53% | 17.60% | 21.88% | 26.16% | 17.811% |
| freelru-sync  |  9.64% | 13.20% | 17.30% | 21.62% | 25.92% | 17.538% |
| otter         | 12.28% | 14.33% | 16.78% | 19.67% | 22.94% | 17.198% |

**Winner:** multicache (+0.763% vs sieve)

## Latency Benchmarks

### [string] String Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc |    Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|----------|
| clock         |     15 |         0 |     21 |         0 |          99 |              2 |    18.000 |
| multicache    |     10 |         0 |     28 |         1 |         127 |              2 |    19.000 |
| freelru-sync  |     23 |         0 |     23 |         0 |          35 |              0 |    23.000 |
| sieve         |     22 |         0 |     42 |         0 |         186 |              3 |    32.000 |
| otter         |     37 |         0 |    131 |         1 |         157 |              1 |    84.000 |
| theine        |     81 |         1 |    123 |         0 |         204 |              0 |   102.000 |

  winner: clock (+5.556% vs multicache)

### [int] Int Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc |    Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|----------|
| multicache    |      8 |         0 |     19 |         0 |         116 |              2 |    13.500 |
| otter         |     35 |         0 |    132 |         1 |         151 |              1 |    83.500 |
| theine        |     77 |         1 |    109 |         0 |         185 |              0 |    93.000 |

  winner: multicache (+518.519% vs otter)

### [getorset] GetOrSet

| Cache         | GetOrSet ns | GetOrSet alloc |
|---------------|-------------|----------------|
| multicache    |          12 |              0 |
| otter         |          56 |              1 |

  winner: multicache (+366.667% vs otter)

## Throughput Benchmarks

### [string-get-throughput] String Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  42.62M   | 320.62M   | 532.78M   | 524.26M   | 355.07M   |
| otter         |  18.92M   | 134.93M   | 311.41M   | 321.55M   | 196.70M   |
| theine        |   8.80M   | 126.67M   | 192.44M   | 200.62M   | 132.13M   |
| sieve         |  34.70M   |   7.41M   |   6.15M   |   6.82M   |  13.77M   |
| clock         |  35.36M   |   6.26M   |   5.47M   |   5.99M   |  13.27M   |
| freelru-sync  |  23.37M   |   6.83M   |   6.44M   |   7.03M   |  10.92M   |

  winner: multicache (+80.512% vs otter)

### [string-set-throughput] String Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  21.85M   |  89.73M   | 139.11M   | 139.79M   |  97.62M   |
| clock         |  24.54M   |   6.14M   |   5.40M   |   5.83M   |  10.48M   |
| freelru-sync  |  21.03M   |   6.27M   |   5.98M   |   6.46M   |   9.94M   |
| sieve         |  15.40M   |   4.99M   |   4.78M   |   4.92M   |   7.52M   |
| theine        |   4.70M   |   4.40M   |   3.63M   |   3.25M   |   3.99M   |
| otter         |   6.51M   |   2.84M   |   2.64M   |   2.67M   |   3.67M   |

  winner: multicache (+831.669% vs clock)

### [int-get-throughput] Int Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  73.62M   | 564.44M   | 953.63M   | 904.48M   | 624.04M   |
| otter         |  25.84M   | 176.17M   | 433.34M   | 405.13M   | 260.12M   |
| theine        |  10.76M   | 164.28M   | 154.50M   | 266.33M   | 148.97M   |

  winner: multicache (+139.905% vs otter)

### [int-set-throughput] Int Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  41.32M   | 120.22M   | 167.94M   | 168.75M   | 124.56M   |
| theine        |   6.37M   |   4.62M   |   3.34M   |   3.25M   |   4.40M   |
| otter         |   7.01M   |   2.73M   |   2.67M   |   2.69M   |   3.78M   |

  winner: multicache (+2732.716% vs theine)

### [getorset-throughput] GetOrSet

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  37.40M   | 236.46M   | 422.56M   | 428.63M   | 281.26M   |
| otter         |  12.24M   |  93.20M   | 159.84M   | 157.87M   | 105.79M   |

  winner: multicache (+165.873% vs otter)

## Memory Benchmarks

Baseline (map[string][]byte): 35.83 MB

| Cache         | Items Stored | Memory (MB) | Overhead vs map (bytes/item) |
|---------------|--------------|-------------|------------------------------|
| freelru-sync  |        32768 |       35.19 |                          -20 |
| otter         |        32768 |       36.32 |                           15 |
| clock         |        32768 |       37.02 |                           38 |
| multicache    |        32768 |       38.14 |                           73 |
| theine        |        32768 |       38.48 |                           84 |
| sieve         |        32768 |       39.53 |                          118 |

  winner: freelru-sync (+3.222% vs otter)

## Overall Rankings

| Rank | Cache         | Score | Gold | Silver | Bronze |
|------|---------------|-------|------|--------|--------|
|    1 | multicache    |   163 |   14 |      2 |      1 |
|    2 | otter         |    79 |    0 |      6 |      1 |
|    3 | theine        |    69 |    1 |      3 |      4 |
|    4 | sieve         |    68 |    0 |      5 |      3 |
|    5 | clock         |    66 |    2 |      1 |      3 |
|    6 | freelru-sync  |    58 |    1 |      1 |      4 |

